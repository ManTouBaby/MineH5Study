<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>动态勤务管理云应用</title>

		<!-- Bootstrap 3.3.7 -->
		<link rel="stylesheet" type="text/css" href="../../../../plugins/bootstrap/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="../../../../plugins/doublebox-bootstrap/doublebox-bootstrap.css" />
		<!-- Font Awesome -->
		<link rel="stylesheet" type="text/css" href="../../../../plugins/font_awesome/css/font-awesome.min.css" />
		<!-- Ionicons -->
		<link rel="stylesheet" type="text/css" href="../../../../plugins/ionicons/css/ionicons.min.css" />
		<!-- AdminLTE -->
		<link rel="stylesheet" type="text/css" href="../../../../plugins/AdminLTE/css/AdminLTE.css" />
		<!-- AdminLTE skin -->
		<link rel="stylesheet" type="text/css" href="../../../../plugins/AdminLTE/css/skins/_all-skins.min.css" />
		<!-- general -->
		<link rel="stylesheet" type="text/css" href="../../../../css/general.css" />

	</head>

	<body class="innerPage">
		<div>
			<section class="content-header">
				<h1>
					基础信息管理
					<small>新建岗位</small>
				</h1>
				<ol class="breadcrumb">
					<li>
						<a href="#"><i class="fa fa-dashboard"></i> 首页</a>
					</li>
					<li>
						<a href="#">基础信息管理</a>
					</li>
					<li>
						<a href="#">岗位基础信息管理</a>
					</li>
					<li class="active">新建岗位</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<!-- Default box -->
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">岗位基础信息</h3>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-2">
								<div class="form-group">
									<label>岗位名称</label>
									<input type="text" class="form-control" placeholder="岗位名称">
								</div>
							</div>	
							<div class="col-md-2">
								<div class="form-group">
									<label>所属单位</label>
									<input type="text" class="form-control" id="deptId">
								</div>
							</div>	
							<div class="col-md-2">
								<div class="form-group">
									<label>责任(巡逻)单位</label>
									<input type="text" class="form-control" id="xldeptId">
								</div>
							</div>	
							<div class="col-md-2">
								<div class="form-group">
									<label>岗位类型</label>
									<input type="text" class="form-control" id="defenceType">
								</div>
							</div>	
							<div class="col-md-2">
								<div class="form-group">
									<label>巡逻方式</label>
									<input type="text" class="form-control" placeholder="巡逻方式">
								</div>
							</div>	
								
								
							<!--<div class="col-md-4">
								<div class="form-group">
									<label>岗位名称</label>
									<input type="text" class="form-control" placeholder="岗位名称">
								</div>
								<div class="form-group">
									<label>岗位类型</label>
									<input type="text" class="form-control" id="defenceType">
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>所属单位</label>
									<input type="text" class="form-control" id="deptId">
								</div>
								<div class="form-group">
									<label>巡逻方式</label>
									<input type="text" class="form-control" placeholder="巡逻方式">
								</div>

							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>责任(巡逻)单位</label>
									<input type="text" class="form-control" id="xldeptId">
								</div>
							</div>-->
						</div>
					</div>
				</div>
				<!--<div class="box" style="display: none;">-->
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">详细信息</h3>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-2">
								<div class="form-group">
									<label>领导姓名</label>
									<input type="text" class="form-control" placeholder="">
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>领导职务</label>
									<input type="text" class="form-control" id="deptId" placeholder="">
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>领导手机</label>
									<input type="text" class="form-control" id="xldeptId" placeholder="">
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>配备警力</label>
									<input type="text" class="form-control" placeholder="">
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>配备装备</label>
									<input type="text" class="form-control" id="deptId" placeholder="">
								</div>
							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>备注</label>
									<input type="text" class="form-control" id="xldeptId" placeholder="">
								</div>
							</div>	
							
							
							
							<!--<div class="col-md-4">
								<div class="form-group">
									<label>领导姓名</label>
									<input type="text" class="form-control" placeholder="请输入领导姓名">
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>领导职务</label>
									<input type="text" class="form-control" id="deptId" placeholder="请输入领导职务">
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>领导手机</label>
									<input type="text" class="form-control" id="xldeptId" placeholder="请输入领导手机">
								</div>
							</div>-->

						</div>
						<!--<div class="row">
							<div class="col-md-4">
								<div class="form-group">
									<label>配备警力</label>
									<input type="text" class="form-control" placeholder="请输入警力配置">
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>配备装备</label>
									<input type="text" class="form-control" id="deptId" placeholder="请输入装备配置">
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>备注</label>
									<input type="text" class="form-control" id="xldeptId" placeholder="备注">
								</div>
							</div>

						</div>-->
					</div>
				</div>
				<div class="box" style="display: none;">
					<div class="box-header with-border">
						<h3 class="box-title">岗位人员选择</h3>
					</div>
					<div class="box-body">
						<div style="width: 90%;margin: 0 auto;">
							<select multiple="multiple" size="10" name="doublebox" class="demo" id="barrierPeopleSelect"> </select>
						</div>
					</div>
				</div>
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">地图标绘</h3>
					</div>
					<div class="box-body">
						<div id="mainMap" style="width: 100%;height:500px;">
							<div id="map" style="height:100%;-webkit-transition: all 0.5s ease-in-out;transition: all 0.5s ease-in-out;"></div>
						</div>
					</div>
				</div>
				<div class="col-md-12" style="text-align: center;">
					<button class="btn btn-success">保存</button>
					<button class="btn btn-danger" onclick="window.history.go(-1)">返回</button>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<br><br>
		<!-- /.content-wrapper -->
		<!-- jQuery -->
		<script src="../../../../plugins/jquery/jquery-3.2.1.js"></script>
		<!-- Bootstrap 3.3.7 -->
		<script src="../../../../plugins/bootstrap/js/bootstrap.js"></script>
		<script src="../../../../plugins/doublebox-bootstrap/doublebox-bootstrap.js"></script>
		<!-- AdminLTE App -->
		<script type="text/javascript" src="../../../../plugins/AdminLTE/js/adminlte.js"></script>
		<!-- utilJS -->
		<script type="text/javascript" src="../../../../js/util.js"></script>
		<!-- easyUILoader -->
		<script type="text/javascript" src="../../../../plugins/easyui/easyloader.js"></script>
		<!-- baiduMap -->
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=d49zEkYVt7sT7h5WKFlrNlB5eOD8lLex"></script>
		<!--加载鼠标绘制工具-->
		<script type="text/javascript" src="http://api.map.baidu.com/library/DrawingManager/1.4/src/DrawingManager_min.js"></script>
		<link rel="stylesheet" href="http://api.map.baidu.com/library/DrawingManager/1.4/src/DrawingManager_min.css" />
		<script>
			$(document).ready(function() {
				easyloader.load('combotree', function() {
					$('#deptId').combotree({
						width: '100%',
						height: 33,
						data: treeData
					});
					$('#xldeptId').combotree({
						width: '100%',
						height: 33,
						data: treeData
					});
					$('#defenceType').combotree({
						width: '100%',
						height: 33,
						data: defenceData
					});
					$("#deptId").combotree('tree').tree("collapseAll");
					$("#xldeptId").combotree('tree').tree("collapseAll");
					$("#defenceType").combotree('tree').tree("collapseAll");

				});
				easyloader.load('combobox', function() {
					$("#xllx").combobox({
						width: '100%',
						editable: false,
						height: 33,
						valueField: 'id',
						textField: 'text',
						data: [{
							text: "巡组类型A",
							id: "a"
						}, {
							text: "巡组类型B",
							id: "b"
						}]
					})
					$("#xlfs").combobox({
						width: '100%',
						editable: false,
						height: 33,
						valueField: 'id',
						textField: 'text',
						data: [{
							text: "机巡",
							id: "a"
						}, {
							text: "步巡",
							id: "b"
						}]
					})
				})

				easyloader.locale = "zh_CN";

				var demo2 = $('#barrierPeopleSelect').doublebox({
					nonSelectedListLabel: '待选警员',
					selectedListLabel: '岗位已选警员',
					preserveSelectionOnMove: 'moved',
					moveOnSelect: false,
					nonSelectedList: [{
						"roleId": "1",
						"roleName": "张三"
					}, {
						"roleId": "2",
						"roleName": "李四"
					}, {
						"roleId": "3",
						"roleName": "王五"
					}],
					selectedList: [{
						"roleId": "4",
						"roleName": "赵六"
					}, {
						"roleId": "5",
						"roleName": "钱七"
					}, {
						"roleId": "6",
						"roleName": "孙八"
					}],
					optionValue: "roleId",
					optionText: "roleName",
					doubleMove: true,
				});

			});
			var treeData = [{
				id: 1,
				text: '广州市公安局',
				children: [{
					id: 11,
					text: '越秀分局',
					children: [{
						id: 111,
						text: '北京派出所'
					}]
				}, {
					id: 12,
					text: '天河分局',
					children: [{
						id: 121,
						text: '五山派出所'
					}]
				}, {
					id: 13,
					text: '番禺分局',
					children: [{
						id: 131,
						text: '市桥派出所'
					}]
				}]
			}]
			var defenceData = [{
				id: 10,
				text: '值班领导'
			}, {
				id: 11,
				text: '巡组'
			}, {
				id: 12,
				text: '治安防控'
			}, {
				id: 13,
				text: '重点部位'
			}, {
				id: 14,
				text: '社区'
			}, {
				id: 15,
				text: '警务室'
			}, {
				id: 16,
				text: '卡点岗亭'
			}, {
				id: 17,
				text: '机动备勤'
			}, {
				id: 16,
				text: '办案'
			}]
			var map = new BMap.Map('mainMap');
			map.centerAndZoom(new BMap.Point(113.271015,23.130246), 17);
			var mapStyle = {
				features: ["road", "building", "water", "land"], //隐藏地图上的poi
				style: "dark" //设置地图风格为高端黑
			}
			map.setMapStyle(mapStyle);
			var navigationControl = new BMap.NavigationControl({
				// 靠左上角位置
				anchor: BMAP_ANCHOR_TOP_LEFT,
				// LARGE类型
				type: BMAP_NAVIGATION_CONTROL_LARGE,
				// 启用显示定位
				enableGeolocation: true
			});
			map.addControl(navigationControl);
			// map.enableScrollWheelZoom();
			var overlays = [];
			var overlaycomplete = function(e) {
				overlays.push(e.overlay);
			};
			var styleOptions = {
				strokeColor: "red", //边线颜色。
				fillColor: "red", //填充颜色。当参数为空时，圆形将没有填充效果。
				strokeWeight: 3, //边线的宽度，以像素为单位。
				strokeOpacity: 0.8, //边线透明度，取值范围0 - 1。
				fillOpacity: 0.6, //填充的透明度，取值范围0 - 1。
				strokeStyle: 'solid' //边线的样式，solid或dashed。
			}
			//实例化鼠标绘制工具
			var drawingManager = new BMapLib.DrawingManager(map, {
				isOpen: false, //是否开启绘制模式
				enableDrawingTool: true, //是否显示工具栏
				drawingToolOptions: {
					anchor: BMAP_ANCHOR_TOP_RIGHT, //位置
					offset: new BMap.Size(5, 5), //偏离值
				},
				circleOptions: styleOptions, //圆的样式
				polylineOptions: styleOptions, //线的样式
				polygonOptions: styleOptions, //多边形的样式
				rectangleOptions: styleOptions //矩形的样式
			});
			//添加鼠标绘制工具监听事件，用于获取绘制结果
			drawingManager.addEventListener('overlaycomplete', overlaycomplete);

			function clearAll() {
				for(var i = 0; i < overlays.length; i++) {
					map.removeOverlay(overlays[i]);
				}
				overlays.length = 0
			}
		</script>
	</body>

</html>