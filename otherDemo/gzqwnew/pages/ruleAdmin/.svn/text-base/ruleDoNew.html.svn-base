<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>动态勤务管理云应用</title>

		<!-- Bootstrap 3.3.7 -->
		<link rel="stylesheet" type="text/css" href="../../plugins/bootstrap/css/bootstrap.min.css" />
		<!-- Font Awesome -->
		<link rel="stylesheet" type="text/css" href="../../plugins/font_awesome/css/font-awesome.min.css" />
		<!-- AdminLTE -->
		<link rel="stylesheet" type="text/css" href="../../plugins/AdminLTE/css/AdminLTE.css" />
		<!-- AdminLTE skin -->
		<link rel="stylesheet" type="text/css" href="../../plugins/AdminLTE/css/skins/_all-skins.min.css" />
		<!-- general -->
		<link rel="stylesheet" type="text/css" href="../../css/general.css" />
		<!-- dataTables -->
		<link rel="stylesheet" type="text/css" href="../../plugins/bootstrap-table/bootstrap-table.css">
		<!-- bootstrap Slider-->
		<link rel="stylesheet" type="text/css" href="../../plugins/bootstrap-slider/slider.css">
		<!-- iCheck -->
		<link rel="stylesheet" type="text/css" href="../../plugins/iCheck/all.css">
		<style>
			.ruleWeekdayTable th {
				border: 1px solid #999;
				text-align: center;
				width: 40px;
			}
			.unDutySelect{cursor: pointer;}
		</style>
	</head>

	<body class="innerPage">
		<div>
			<section class="content-header">
				<h1>
					新建规则
					<small>规则管理</small>
				</h1>
				<ol class="breadcrumb">
					<li>
						<a href="#"><i class="fa fa-dashboard"></i> 首页</a>
					</li>
					<li>
						<a href="#">规则管理</a>
					</li>
					<li class="active">新建规则</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<!-- Default box -->
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">规则基本信息</h3>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-4">
								<div class="form-group">
									<label>规则名称</label>
									<input type="text" class="form-control" placeholder="请输入规则名称">
								</div>
								<div class="form-group">
									<label>规则生效开始时间</label>
									<input type="text" class="form-control" value="2017-10-01" />
								</div>
							</div>
							<div class="col-md-4">
								<div class="form-group">
									<label>规则对象</label>
									<input type="text" class="form-control" id="objectType" value="人员" />
								</div>
								<div class="form-group">
									<label>规则生效结束时间</label>
									<input type="text" class="form-control" value="2017-10-31" />
								</div>
							</div>
							<div class="col-md-4">
							</div>

						</div>
					</div>
				</div>
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">规则生效标签</h3>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-6">
								<label>标签列表</label>
								<div class="row">
									<div class="col-md-12">
										<div class="input-group ">
											<input type="text" class="form-control" placeholder="请输入标签名称">
											<span class="input-group-btn">
											<button type="button" class="btn btn-info btn-flat">搜索</button>
										</span>
										</div>
									</div>
								</div>
								<br />
								<div style="height:200px">
									<div class="bg-green objectItem">年长</div>
									<div class="bg-green objectItem">年少</div>
									<div class="bg-green objectItem">近退休</div>
									<div class="bg-green objectItem">配枪</div>
								</div>
							</div>
							<div class="col-md-6" style="height: 200px;">
								<label>生效对象</label>
								<div id="tagObjectContainer" style="width:100%;height:300px;">

								</div>
							</div>

						</div>
					</div>
				</div>
				<div class="box">
					<div class="box-header with-border">
						<h3 class="box-title">规则细则</h3>
					</div>
					<div class="box-body">
						<div class="row">
							<div class="col-md-4">
								<div class="form-group">
									<label>排班频次调整&nbsp;(0为正常,数值越低频率越低)</label>
									<br>
									<input id="frequency" type="text" style="width: 100%;" data-slider-min="-10" data-slider-max="10" data-slider-step="1" data-slider-value="0" />
								</div>

							</div>
							<div class="col-md-2">
								<div class="form-group">
									<label>是否可值夜班</label>
									<br>&nbsp;
									<label>是
										<input type="radio" name="r3" class="flat-red" checked>
									</label>
									<label>否
										<input type="radio" name="r3" class="flat-red">
									</label>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group">
									<div class="form-group">
										<label>不安排日&nbsp;<input type="checkbox" class="flat-red"></label>
										<br>
										<table class="ruleWeekdayTable">
											<tr>
												<th class="unDutySelect">周一</th>
												<th class="unDutySelect">周二</th>
												<th class="unDutySelect">周三</th>
												<th class="unDutySelect">周四</th>
												<th class="unDutySelect">周五</th>
												<th class="unDutySelect">周六</th>
												<th class="unDutySelect">周日</th>
											</tr>
										</table>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="col-md-12" style="text-align: center;">
					<button class="btn btn-success">保存</button>
					<button class="btn btn-danger" onclick="window.history.go(-1)">返回</button>
				</div>
			</section>
			<!-- /.content -->
		</div>
		<!-- /.content-wrapper -->

		<!-- jQuery -->
		<script src="../../plugins/jquery/jquery-3.2.1.js"></script>
		<!-- Bootstrap 3.3.7 -->
		<script src="../../plugins/bootstrap/js/bootstrap.js"></script>
		<!-- SlimScroll -->
		<script type="text/javascript" src="../../plugins/slimScroll/jquery.slimscroll.min.js"></script>
		<!-- FastClick -->
		<script type="text/javascript" src="../../plugins/fastclick/fastclick.min.js"></script>
		<!-- AdminLTE App -->
		<script type="text/javascript" src="../../plugins/AdminLTE/js/adminlte.js"></script>
		<!-- utilJS -->
		<script type="text/javascript" src="../../js/util.js"></script>
		<!-- dataTable -->
		<script type="text/javascript" src="../../plugins/bootstrap-table/bootstrap-table.js"></script>
		<script type="text/javascript" src="../../plugins/bootstrap-table/bootstrap-table-zh-CN.min.js"></script>
		<!-- easyUILoader -->
		<script type="text/javascript" src="../../plugins/easyui/easyloader.js"></script>
		<!-- bootstrap Slider-->
		<script type="text/javascript" src="../../plugins/bootstrap-slider/bootstrap-slider.js"></script>
		<!-- iCheck -->
		<script type="text/javascript" src="../../plugins/iCheck/icheck.js"></script>
		<script>
			$(document).ready(function() {
				$('#frequency').slider().on('change', function(oldValue, newValue) {});
				$('input[type="checkbox"].flat-red, input[type="radio"].flat-red').iCheck({
					checkboxClass: 'icheckbox_flat-green',
					radioClass: 'iradio_flat-green'
				});
				$(".unDutySelect").each(function() {
					var obj = $(this)
					$(this).click(function() {
						$(obj).toggleClass("bg-red")
					})
				})
				easyloader.load('combobox', function() {
					$("#objectType").combobox({
						width: '100%',
						editable: false,
						height: 33,
						valueField: 'id',
						textField: 'text',
						data: [{
							text: "人员",
							id: "a"
						}, {
							text: "装备",
							id: "b"
						}, {
							text: "岗位",
							id: "b"
						}]
					});
					easyloader.load(['draggable', 'droppable'], function() {
						$('.objectItem').draggable({
							revert: true,
							proxy: 'clone',
							onStartDrag: function() {
								$(this).draggable('options').cursor = 'not-allowed';
								$(this).draggable('proxy').css('z-index', 999);
							},
							onStopDrag: function() {
								$(this).draggable('options').cursor = 'move';
							}
						});
						$('#tagObjectContainer').droppable({
							onDragEnter: function(e, source) {
								$(source).draggable('options').cursor = 'auto';
							},
							onDragLeave: function(e, source) {
								$(source).draggable('options').cursor = 'not-allowed';
							},
							onDrop: function(e, source) {
								$(e.target).append(source)
							}
						});
					});
				})
				easyloader.locale = "zh_CN";
			});
		</script>
	</body>

</html>